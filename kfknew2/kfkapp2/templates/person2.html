<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bootstrap Chat</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

  <style>
    #chat1 {
      border-radius: 15px;
      height: 500px;
      display: flex;
      flex-direction: column;
    }

    #chat1 .card-header {
      border-top-left-radius: 15px;
      border-top-right-radius: 15px;
    }

    .chat-body {
      flex: 1;
      overflow-y: auto;
      padding: 15px;
      background: #1c1f22;
    }

    .avatar {
      width: 42px;
      height: 42px;
      border-radius: 50%;
    }

    .msg-in {
      background-color: rgba(57, 192, 237, 0.25);
      padding: 10px 14px;
      border-radius: 15px;
      max-width: 70%;
      color: #fff;
    }

    .msg-out {
      background-color: #2b2f33;
      padding: 10px 14px;
      border-radius: 15px;
      max-width: 70%;
      color: #fff;
      text-align: right;
    }

    .msg-in, .msg-out {
      word-wrap: break-word;
    }

    #chat1 textarea {
      resize: none;
      border-radius: 10px;
    }
  </style>
</head>

<body class="bg-dark">

<section class="vh-100 d-flex align-items-center justify-content-center">
  <div class="col-md-8 col-lg-6 col-xl-4">

    <div class="card bg-dark text-white" id="chat1">

      <!-- Header -->
      <div class="card-header d-flex justify-content-between align-items-center bg-info text-white">
        <i class="fas fa-angle-left"></i>
        <p class="mb-0 fw-bold">sender2-chats</p>
        <i class="fas fa-times"></i>
      </div>

      <!-- Messages -->
      <div class="card-body chat-body">

        {% for msg in msg_data %}
          {% if msg.sender.name == "person-2" %}
            <!-- OUTGOING -->
            <div class="d-flex justify-content-end mb-3">
              <div class="msg-out me-2">
                {{ msg.message }}
              </div>
              <img
                src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava2-bg.webp"
                class="avatar">
            </div>
          {% else %}
            <!-- INCOMING -->
            <div class="d-flex align-items-start mb-3">
              <img
                src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava1-bg.webp"
                class="avatar">
              <div class="msg-in ms-2">
                {{ msg.message }}
              </div>
            </div>
          {% endif %}
        {% endfor %}

      </div>

      <!-- Input -->
      <form method="POST" action="{% url 'person2'%}">
        <div class="card-footer bg-dark" >
          {% csrf_token %}
          <div>
        <Input class="form-control bg-dark text-white"
                  rows="2"
                  name = "person2input" placeholder="Type your message..." autocomplete="off" required></Input>
                  <button type="submit"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send" viewBox="0 0 16 16">
  <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z"/>
</svg></button></div>
      </form>

    </div>

  </div>
</section>

</body>
</html>
